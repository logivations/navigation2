controller_server:
  ros__parameters:
    use_sim_time: True
    controller_frequency: 20.0
    controller_plugin_types: ["teb_local_planner::TebLocalPlannerROS"]
    controller_plugin_ids: ["DynamicFollowPath"]
    DynamicFollowPath.footprint_model.type: "line"
    DynamicFollowPath:
      footprint_model:
        line_start: [-0.1, 0.0] # for type "line"
        line_end: [0.1, 0.0] # for type "line"
    DynamicFollowPath.footprint_model.radius: 0.50
    DynamicFollowPath.min_obstacle_dist: 0.5
    DynamicFollowPath.include_dynamic_obstacles:  True
    DynamicFollowPath.obstacle_poses_affected: 25
    DynamicFollowPath.inflation_dist: 0.1
    DynamicFollowPath.costmap_converter_plugin: costmap_converter::CostmapToPolygonsDBSMCCH
    DynamicFollowPath.costmap_converter_spin_thread: True
    DynamicFollowPath.costmap_converter_rate: 15
    DynamicFollowPath.enable_homotopy_class_planning: True
    DynamicFollowPath.enable_multithreading: True
    #DynamicFollowPath.weight_obstacle: 100.0
    DynamicFollowPath.control_look_ahead_poses: 3
    DynamicFollowPath.prevent_look_ahead_poses_near_goal: 2
    DynamicFollowPath.dt_ref: 0.3
    DynamicFollowPath.dt_hysteresis: 0.1
    DynamicFollowPath.global_plan_overwrite_orientation: False
    DynamicFollowPath.feasibility_check_no_poses: 4
    ###
    DynamicFollowPath.optimization_verbose: False
    DynamicFollowPath.teb_autoresize: True
    DynamicFollowPath.min_samples: 3
    DynamicFollowPath.max_samples: 50
    DynamicFollowPath.max_global_plan_lookahead_dist: 4.0
    DynamicFollowPath.visualize_hc_graph: False
    DynamicFollowPath.max_vel_x: 0.8
    DynamicFollowPath.max_vel_x_near_goal: 0.2
    DynamicFollowPath.max_vel_x_backwards: 0.3
    DynamicFollowPath.max_vel_x_backwards_near_goal: 0.2
    DynamicFollowPath.max_vel_theta: 0.6
    DynamicFollowPath.max_vel_theta_near_goal: 0.1
    DynamicFollowPath.acc_lim_x: 0.5
    DynamicFollowPath.acc_lim_theta: 0.5
    DynamicFollowPath.xy_goal_tolerance: 0.2
    DynamicFollowPath.yaw_goal_tolerance: 0.1
    DynamicFollowPath.global_plan_viapoint_sep: 0.4
    DynamicFollowPath.weight_viapoint: 5.0
    DynamicFollowPath.slowdown_dist_near_goal: 1.5

controller_server_rclcpp_node:
  ros__parameters:
    use_sim_time: True
local_costmap:

  local_costmap:
    ros__parameters:
      use_sim_time: True
      global_frame: map
      plugin_names: ["obstacle_layer", "inflation_layer"]
      plugin_types: ["nav2_costmap_2d::ObstacleLayer", "nav2_costmap_2d::InflationLayer"]
      rolling_window: true
      width: 8
      height: 8
      resolution: 0.2
      robot_radius: 0.25
      inflation_layer:
        cost_scaling_factor: 3.0
      obstacle_layer:
        enabled: True
        observation_sources: scan
        scan:
          topic: /scan
          max_obstacle_height: 2.0
          clearing: True
          marking: True
          data_type: "LaserScan"
      static_layer:
        map_subscribe_transient_local: True
      always_send_full_costmap: True
  local_costmap_client:
    ros__parameters:
      use_sim_time: True
  local_costmap_rclcpp_node:
    ros__parameters:
      use_sim_time: True

